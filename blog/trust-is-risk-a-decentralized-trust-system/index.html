<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="google-site-verification" content="zI3sAn6GTCII6X2rmUMR1uHZG5crfyuVmzRoaqXmDq4" /><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Trust is Risk: A Decentralized Trust System | OpenBazaar</title>
<meta name="generator" content="Jekyll v3.8.6" />
<meta property="og:title" content="Trust is Risk: A Decentralized Trust System" />
<meta property="og:locale" content="en_US" />
<link rel="canonical" href="https://openbazaar.org/blog/trust-is-risk-a-decentralized-trust-system/" />
<meta property="og:url" content="https://openbazaar.org/blog/trust-is-risk-a-decentralized-trust-system/" />
<meta property="og:site_name" content="OpenBazaar" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2017-08-01T03:30:00+00:00" />
<script type="application/ld+json">
{"@type":"BlogPosting","url":"https://openbazaar.org/blog/trust-is-risk-a-decentralized-trust-system/","headline":"Trust is Risk: A Decentralized Trust System","dateModified":"2017-08-01T03:30:00+00:00","datePublished":"2017-08-01T03:30:00+00:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://openbazaar.org/blog/trust-is-risk-a-decentralized-trust-system/"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="shortcut icon" type="image/png" href="/favicon.png">
  <link href="https://fonts.googleapis.com/css?family=Noto+Sans" rel="stylesheet">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
  <link rel="stylesheet" href="/assets/main.css">
  
    <meta property="og:image" content="https://openbazaar.org/blog/">
    <meta property="og:title" content="">
    <meta property="og:description" content="">
  <link type="application/atom+xml" rel="alternate" href="https://openbazaar.org/feed.xml" title="OpenBazaar" /><script>
  (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-P8J7H5F');
</script>

</head>
<body><!-- Google Tag Manager (noscript) -->
<noscript>
  <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-P8J7H5F" height="0" width="0" style="display:none;visibility:hidden"></iframe>
</noscript>
<!-- End Google Tag Manager (noscript) -->
<header class="container">
    <nav class="navbar navbar-expand-lg navbar-light">
        <a class="navbar-brand" href="/">
            <img class="openbazaar-logo" alt="openbazaar logo" src="/assets/home/openbazaar-logo-5d58073968436596151e1dd26acaa60388a64d889d0a1840ef192eec26ec7d8f.png" integrity="sha256-XVgHOWhDZZYVHh3SasqmA4imTYidChhA7xku7CbsfY8=" crossorigin="anonymous">
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-top" aria-controls="navbar-top"
            aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span> Menu
        </button>
        <div class="collapse navbar-collapse text-center text-lg-left" id="navbar-top">
            
            <ul class="navbar-nav ml-auto"><li class="nav-item ml-md-2 ">
                    <a class="nav-link" href="/features/">Features
                        
                    </a>
                </li>
                <li class="nav-item ml-md-2 ">
                    <a class="nav-link" href="/applications/">
                        Applications
                        
                    </a>
                </li>
                <li class="nav-item ml-md-2">
                    <a class="nav-link" href="https://docs.openbazaar.org/" target="_blank">API</a>
                </li>
                <li class="nav-item ml-md-2 ">
                    <a class="nav-link" href="/developers/">
                        Developers
                        
                    </a>
                </li>
                <li class="nav-item ml-md-2 ">
                    <a class="nav-link" href="/support/">
                        Support
                        
                    </a>
                </li>
                <li class="nav-item ml-md-2 active ">
                    <a class="nav-link" href="/blog/">
                        Blog
                        
                            <span class="sr-only">(current)</span>
                        
                    </a>
                </li>
            </ul>
        </div>
    </nav>
</header><main class="page-content" aria-label="Content">
      <div class="wrapper content">
        <article class="container limited">
    <div class="row">
        <div class="col-12">
            <section class="row pt-0 ">
    
        <div class="col-12 post-heading-image w-100 border-bottom">

        </div>
        <img class="post-openbazaar-logo mx-auto" alt="openbazaar-log0" src="/assets/blog/openbazaar-logo-9bc1d7020f444dc7e779cd01ca965d93105c47c54b6a58bd4d9df0592cf640f9.png" integrity="sha256-m8HXAg9ETcfnec0BypZdkxBcR8VLali9TZ3wWSz2QPk=" crossorigin="anonymous">
    
    <div class="col-12">
        <div class="row text-center mt-4">
            
                <div class="col"></div>
                <div class="col-8">
                    <a href="/blog/trust-is-risk-a-decentralized-trust-system/">
                        <h3 class="post-title">
                            Trust is Risk: A Decentralized Trust System
                        </h3>
                    </a>
                </div>
                <div class="col"></div>
                <div class="col-12 d-flex justify-content-between my-4">
                    <div class="post-emojis">
                        <i class="fab fa-bitcoin post-icon-bitcoin"></i>
                        <img draggable="false" class="emoji medium post-emoji" alt="world emoji" src="https://s.w.org/images/core/emoji/2.4/svg/1f30e.svg">
                        <img draggable="false" class="emoji medium post-emoji" alt="âœŒ" src="https://s.w.org/images/core/emoji/2.4/svg/270c.svg">
                    </div>
                    <a class="post-openbazaar-link" href="/">OpenBazaar.org</a>
                </div>
            
            <div class="col-12 post-date text-left mb-3">
                Aug 1, 2017
            </div>
            
                <div class="col-12 text-left post-container">
                    <p><img src="Trust-Is-Risk-A-Decentralized-Trust-System-1024x512.png" alt="" /></p>

<p>One of the foundational problems of a decentralized marketplace is that of trust.</p>

<p>Itâ€™s an inherently difficult problem:</p>

<h3 id="how-can-you-trade-with-someone-who-could-in-principle-be-completely-anonymous">How can you trade with someone who could, in principle, be completely anonymous?</h3>

<p>In this article, we provide a novel answer to that question, something we call Trust is Risk. Itâ€™s a new approach to solve the problem that weâ€™re exploring and weâ€™d like to illustrate our ideas to the community and solicit your feedback.</p>

<p>This post is going to give an explanation of what Trust Is Risk is and how it works with quite some detail. This post is accessible to anyone. We donâ€™t have any math here. But if youâ€™re interested in all the deep details, Iâ€™m providing links to our papers in the last section that you can look at.</p>

<p>This is novel research work weâ€™ve been doing that has never been presented before outside of academic conferences. Weâ€™d greatly appreciate your feedback and constructive criticism of our ideas.</p>

<p>Before we begin, a disclaimer: Trust Is Risk is an exploratory subject. OpenBazaar is considering it for research, but is not yet committed to adopting it. More work is needed to evaluate if this system can work in practice.</p>

<h2 id="the-problem-and-previous-attempts-at-solving-it"><a href="https://github.com/decrypto-org/TrustIsRisk/blob/master/blogpost/blogpost.md#the-problem-and-previous-attempts-at-solving-it"></a>The problem and previous attempts at solving it</h2>

<p>In a traditional brick-and-mortar store setting, you have certain insurances that will let you transact safely. If something goes wrong, for example the store rips you off, you have a whole legal arsenal that you can bring against the store. But we donâ€™t have (and perhaps donâ€™t want to have) that luxury in a decentralized marketplace when people can anonymously connect throughÂ <a href="https://www.torproject.org/">Tor</a>Â or use cryptocoins that ensure privacy such asÂ <a href="https://getmonero.org/">monero</a>Â orÂ <a href="https://z.cash/">zcash</a>Â (which OpenBazaarÂ <a href="https://blog.openbazaar.org/openbazaar-1-1-10-released-purchase-with-ether-monero-and-more-via-shapeshift-io-integration/">already supports</a>). Besides, if we allowed people to be accountable towards traditional courts and law, weâ€™re opening up pandoraâ€™s box in letting governments interfere by making their own laws about whatâ€™s â€œcheating in a transactionâ€ and what isnâ€™t, which leaves room for censorship, something OpenBazaar always wanted to avoid â€“ which is why from OpenBazaarâ€™s inception we consideredÂ <a href="https://blog.openbazaar.org/openbazaar-threat-model/">malicious governments as part of our threat model</a>.</p>

<p>Brick-and-mortar stores also have a certain cost to set up and you expect them to be there the next day for accountability. You can literally walk up to a store that sold you a faulty phone and ask for your money back. But OpenBazaar stores can appear out of nowhere and disappear in minutes. We gave a lot of thought to these features of the physical world during the first versions of OpenBazaar and came up withÂ <a href="https://blog.openbazaar.org/proof-of-burn-and-reputation-pledges/">reputation pledges</a>Â and implemented one of the firstÂ <a href="https://blog.openbazaar.org/why-proof-of-burn/">production proof-of-burn systems for identity creation</a>. But people feel very uncomfortable burning money to set up a digital store and we discovered some alternative ideas like donating to charity or miners canâ€™t work out securely.</p>

<p>Here are some critical questions: If youâ€™re a buyer, how do you know that when you give them the money, theyâ€™re going to send you the product? Or if youâ€™re a vendor, how do you know that when you ship them the product, theyâ€™ll give you the money they promised? Of course you can use transaction-based escrows such as 2-of-2 or 2-of-3 transactions or MAD, some of which OpenBazaar already implements. But the problem remains: What if as a buyer you use a 2-of-2 transaction and upon receiving the product you finalize your funds, only to find out days later that it was of bad quality and broke down?</p>

<p>Another idea is to use a web-of-trust and I wrote extensively about the potential of using it in OpenBazaar inÂ <a href="https://dspace.lib.ntua.gr/bitstream/handle/123456789/43147/pseudonymous-trust-2.pdf?sequence=1">my master thesis</a>Â (of whichÂ <a href="https://gist.github.com/dionyziz/e3b296861175e0ebea4b">the shorter version</a>Â is much more palatable). But the problem there, asÂ <a href="https://en.wikipedia.org/wiki/Web_of_trust">with GPG</a>, is that trust is arbitrary: itâ€™sÂ <em>just a number</em>Â and everybody has a different idea about how much to trust others and what trust means. For example, some people are very diligent about giving out trust, while others arenâ€™t. An arbitrary trust scale doesnâ€™t mean the same to everybody. And so the problem remains unsolved.</p>

<h2 id="sybil-attacks-and-stars"><a href="https://github.com/decrypto-org/TrustIsRisk/blob/master/blogpost/blogpost.md#sybil-attacks-and-stars"></a>Sybil attacks and stars</h2>

<p>Currently OpenBazaar uses a reputation system which is based on ratings and stars. This is a system widely employed by centralized markets as well, from eBay to Facebook Marketplaces. The idea is to let other people rate you from 1â˜… to 5â˜… as a buyer or as a vendor after a transaction is completed. Then, an average can be extracted and displayed for everyone.</p>

<p>This star-based system is quite attractive due to its simplicity and ease of understanding. Centralized marketplaces can afford this system, because they can refactor it and censor users at will if they gauge that people are misbehaving. They can also employ secret heuristic mechanisms to detect and punish wrongdoing. However, a decentralized market does not have such an option, as the code and exact inner workings must be open.</p>

<p>This opens up a star-based system toÂ <a href="https://en.wikipedia.org/wiki/Sybil_attack">Sybil attacks</a>. In this attack, a malicious vendor works as follows: They create multiple fake â€œbuyerâ€ accounts which perform transactions with the vendor. They then have the buyer accounts positively rate the vendor, increasing their star rating. The fact that a transaction is required prior to rating someone does not help defend against this attack. The seller simply moves funds among different Bitcoin addresses all of which they control. As OpenBazaarÂ <a href="https://openbazaar.zendesk.com/hc/en-us/articles/203196635-Are-there-fees-to-use-OpenBazaar-">does not require paying any fees</a>Â this is essentially free (except for Bitcoin transaction fees).</p>

<p>Many naÃ¯ve ideas can be proposed for avoiding Sybil attacks. Hereâ€™s one: If a vendor receives many ratings simultaneously from users that all have newly created accounts, then these ratings can be discounted. Hereâ€™s another one: A buyer must have made a minimum of 5 other purchases before they can rate this vendor. Hereâ€™s yet another: A buyer must have already ratedÂ <em>another</em>Â vendor prior to having his ratings count. And one more: If the buyer and seller form an isolated strongly connected â€œislandâ€ of ratings (a so-called clique), then the ratings should be discounted. These proposals are lucrative, but canâ€™t possibly work. The rules for deciding which ratings are good and which ones are bad must be published in the open source code of the project. Subsequently, the malicious vendor can make sure they bypass such rules. For example, they will make sure they let their accounts â€œmatureâ€ before rating, they will create several fake vendor accounts so that their fake sellers can create ratings towards the fake vendors prior to making ratings to the real vendor and they will avoid forming a â€œcliqueâ€ of ratings by not having everyone rate everyone, but rather mimic the way real people rate real vendors in terms of amount of ratings, connectedness, and so forth. The same problems arise if you try to filter by IP address or require that people run a different OpenBazaar node version or OS version. Itâ€™s a futile cat-and-mouse game.</p>

<h2 id="trusting-people"><a href="https://github.com/decrypto-org/TrustIsRisk/blob/master/blogpost/blogpost.md#trusting-people"></a>Trusting people</h2>

<p>The core idea of Trust is Risk is quite simple. We believe this is the right approach for handling decentralized trust. Here it is.</p>

<p>Suppose Bob shares a bank account with hisÂ friend Alice. He puts 10â‚¬ in it, which are his own, but just trusts Alice not to take it. Because Alice is his friend, she doesnâ€™t take it. While AliceÂ <em>can always</em>Â take it, she chooses not to. Even though itâ€™s put in a shared account, Bobâ€™s money is always Bobâ€™s and he can always take it too.</p>

<p>In Bitcoin, we can do the same thing with a transaction that has a 1-of-2 multisig output. A 1-of-2 multisig output means that the money is spendable by either one of the two participants on their own, Alice or Bob. Alice doesnâ€™t need Bobâ€™s permission to spend and Bob doesnâ€™t need Aliceâ€™s permission to spend. Hereâ€™s what that looks like in the Bitcoin transaction graph:</p>

<p><a href="1of2tx.png"><img src="1of2tx.png" alt="" /></a></p>

<p>Here, Bob has created a transaction into which he pays 1 BTC so that the money can now belong to an account shared between Alice and Bob. Whenever we mention a â€œshared accountâ€ in this post, we mean such 1-of-2 multisig transaction outputs.</p>

<p>We call this aÂ <em>trust transaction</em>, because Bob trusts Alice with his money. The use of such transactions, reminiscent ofÂ <em>lines-of-credit</em>Â in more traditional settings, for the purpose of establishing trust was a great idea invented by OpenBazaar co-founder Washington Sanchez in his postÂ <a href="https://gist.github.com/drwasho/2c40b91e169f55988618#part-3-web-of-credit">Peer-to-Peer Lending on OpenBazaar</a>.</p>

<p>Suppose now, in this limited setting, that Bob wishes to purchase something from Alice, and that Bob has already entrusted Alice with 1 coin at an earlier moment in time. If what he wants to buy from Alice is worth 1 coin, then he can do it as follows: He takes the money out of the shared account and pays it directly to Aliceâ€™s account (or simply tells Alice that itâ€™s fine to take it out of the shared account). Then Alice can get paid and ship the product.</p>

<p>That doesnâ€™t sound like a big deal, because Bob and Alice were already friends, but think about what just happened: Bob wasÂ <em>willingly</em>Â trusting Alice with some money, a trust decision he took in the past. If that trust decision on Bobâ€™s side was the right call, then Alice will not cheat on him and will not take the money out of the account. Therefore, merely by having the money in a shared account, Bob has established an amount of trust for Alice.</p>

<p>He can then use that money and buy something from Alice, knowing that Alice wonâ€™t steal from him in the product trade. Why? BecauseÂ <strong>if Alice had wanted to steal from him, she couldâ€™ve done so previously anyway</strong>. We call this propertyÂ <em>risk invariance</em>, because Bobâ€™s risk exposure towards Alice does not change before and after the purchase. Before the purchase, Bob was willingly taking a risk of 1 coin, because it was in a shared account with Alice. After the purchase, Bob is again taking a risk of 1 coin, because he is waiting for a product worth 1 coin to arrive, but has removed the money from the shared account. In both cases, Bob was trusting Alice by risking 1 coin and nothing changed. When Bob receives the product, this closes the trade and he can replenish the trust by opening a new shared account with Alice, if he wants to.</p>

<h2 id="the-trust-is-risk-wallet"><a href="https://github.com/decrypto-org/TrustIsRisk/blob/master/blogpost/blogpost.md#the-trust-is-risk-wallet"></a>The Trust is Risk wallet</h2>

<p>Based on the very simple idea above, we know that people have friends that they are willing to trust financially. This is a very different situation from more traditional webs-of-trust, such as GPG, where trust is an arbitrary numeric value. Now trust is established as a monetary value, it is denominated in bitcoin, and everyone is equal in it. If Alice trusts Bob with 1 coin, and Charlie trusts Dave with 1 coin, thatâ€™s 1 coin everywhere. It has the same purchasing power. In this sense, we utilizeÂ <a href="https://www.cliffsnotes.com/study-guides/economics/money-and-banking/functions-of-money">moneyâ€™s unit of account property</a>Â to equalize what trust means for different people. Yes, maybe different people are less willing to trust others, but we now have a quantifiable means of establishing how much they trust each other without ever having to know their personality intricacies. We thus leverage the objective nature of money in order to â€œobjectifyâ€ trust.</p>

<p>Imagine now that we provide a new generation of bitcoin wallets. This wallet is called the Trust is Risk wallet. You can move money back and forth between your traditional wallet and your Trust is Risk wallet to your heartâ€™s content. But your Trust is Risk wallet is different: In it, your money can be put in shared accounts with your friends via trust transactions. So, for example, if Alice has 60 mBTC stored in her Trust is Risk wallet, she could have allocated 36 mBTC of it to Charlie and 24 mBTC of it to Bob. That money is under risk: Alice is choosing her friends to put some of her own money under their control, and hopefully sheâ€™s choosing wisely. Hereâ€™s how her wallet could display her portfolio:</p>

<p><img src="pie-1024x464.png" alt="" /></p>

<p>Here, sheâ€™s putting 36 mBTC in a shared account with Charlie and another 24 mBTC in a shared account with Bob, for a total of 60 mBTC.</p>

<p>Trust transactions have an additional cryptographic property: They can be used to prove to third parties that a trust relationship exists between two people. Hence, if Alice and Bob maintain a shared account where Aliceâ€™s money is stored, they can publicize the respective Bitcoin transaction and everybody can know that Alice trusts Bob a certain amount of money. For reasons that will become clear below, we want to publicize all these trust relationships in OpenBazaar by default. One easy way to do that is to associate a fixed Bitcoin address with each OpenBazaar node and use that as-is in all trust transactions. There are also better ways of doing it using unique addresses that are verified to belong to their respective owners with a signature. Showing these transactions to third parties constitutes aÂ <em>proof-of-trust</em>Â and is a powerful new primitive.</p>

<h2 id="trust-transitivity"><a href="https://github.com/decrypto-org/TrustIsRisk/blob/master/blogpost/blogpost.md#trust-transitivity"></a>Trust transitivity</h2>

<p>You may be asking: Why would I ever put my money in a Trust is Risk wallet? That sounds like a silly, unnecessary risk. But you get a unique benefit from that. If youâ€™re willing to risk some money by having some exposure to known friends, then we can solve the decentralized trust problem. This is the crux of this reputation system.</p>

<p>Hereâ€™s how it works: You trust some money to each of your friends. They trust some money to their own friends and perhaps back to you. Their friends trust their own friends, and so on, forming a big network of trust similar to cryptographic webs-of-trust. However, this network is now associated with financial values.</p>

<p>Technically, we say that the web-of-trust forms aÂ <em>trust graph</em>Â of people connected through lines-of-credit. Hereâ€™s how that graph looks like if Alice trusts Bob with 10 coins and Bob trusts Charlie with 20 coins:</p>

<p><img src="trust-one-step.png" alt="" /></p>

<p>Unlike the previous graph where we were showing a Bitcoin transaction with inputs and outputs, here the circles correspond to OpenBazaar accounts and the arrows correspond to lines-of-credit (also known asÂ <em>direct trusts</em>) extended between them.</p>

<p>But now that we have two steps in the trust graph, something interesting happens: Alice not only trusted Bob with her money, but she also trusted BobÂ <strong>about his financial trust decisions</strong>. Imagine the following case: say Charlie decides to steal the money that Bob has deposited into their shared account. In this case Bob has incorrectly trusted Charlie by putting his money into their shared account. Then Bob has a spectrum of options with two extremes. In the first extreme, Bob can, in turn, take Aliceâ€™s money deposited in the account shared between Alice and Bob in order to replenish his loss. Of course, this is a worst-case scenario for Alice. The other extreme option for Bob is to decide to absorb the loss, which is a better scenario for Alice. Nevertheless, Alice is in practice exposed to some risk due to Charlieâ€™s behavior through her trust in Bob. She not only has entrusted Bob with her money in good faith that he wonâ€™t steal it, but also gone a step further, trusting him with her money to make his own investments. But in any case, Aliceâ€™s liability is limited to the amount she has put in that account she shared with Bob. She can explicitly set a bound on how much Bobâ€™s mishaps can cost her.</p>

<p>These two distinct options for Bob often arise in real-world economic scenarios. Suppose there is a client, an intermediary and a producer. The client entrusts some value to the intermediary so that the latter can buy the desired product from the producer and deliver it to the client. The intermediary in turn entrusts an equal value to the producer, who needs the value upfront to be able to complete the production process. However, for whatever reason, the producer eventually does not ship the product and neither reimburses its value. This could be due to bankruptcy or an illegal decision to exit the market with an unfair benefit. The intermediary can then choose either to reimburse the client and suffer the loss, or refuse to return the money and perhaps lose the clientâ€™s trust. Because losses can be passed down the line, we call this aÂ <em>transitive trust game</em>.</p>

<p>Trust transitivity, especially in a decentralized financial setting, has been explored and supported byÂ <a href="http://www.personal.ceu.hu/staff/Adam_Szeidl/papers/socialcollateral.pdf">empirical sociological research</a>Â of lending networks. They have independently discovered that our results, which we prove mathematically, empirically arise in real networks of people.</p>

<h2 id="the-flow-of-money"><a href="https://github.com/decrypto-org/TrustIsRisk/blob/master/blogpost/blogpost.md#the-flow-of-money"></a>The flow of money</h2>

<p>Just as an example, hereâ€™s what a slightly more complex trust graph looks like:</p>

<p><img src="trust-graph.png" alt="" /></p>

<p>Here we have an interesting case of a trust cycle:Â <code class="highlighter-rouge">A</code>Â trustsÂ <code class="highlighter-rouge">D</code>, who trustsÂ <code class="highlighter-rouge">B</code>, who trustsÂ <code class="highlighter-rouge">A</code>.</p>

<p>Weâ€™ve set up our trust graph. Now suppose you, the user of OpenBazaar, have a Trust is Risk wallet and some of your money is deposited to accounts shared with your friends. And, now, suppose you find some vendor who is also participating in the Trust is Risk network through his own wallet. Of course, you donâ€™t trust that vendor directly. However, there may be indirect lines-of-credit extended to the vendor. Through your financial decision to trust your friends, a move youâ€™ve made comfortably already knowing who they are, you have taken some calculated risk towards some pseudonymous vendor whom youâ€™ve never met. In fact, since the trust transactions are public, your OpenBazaar node can calculate exactly how much this risk is. Calculating the exact risk value is not as easy as looking at each line-of-credit as we did in the simple case with just three people above, but regardless thereâ€™s a formula we can use to automatically evaluate it. This evaluation of risk exposure is performed using something we call theÂ <em>trust flow theorem</em>. The risk is an exact value measured in bitcoin.</p>

<p>Hereâ€™s a fun trivia fact: The way we evaluate the total risk exposure of a buyer towards a vendor is using a fascinating classical graph theory algorithm from the 1950s called theÂ <em>maximum flow algorithm</em>Â which was invented by Lester Ford and Delbert Fulkerson. They invented this algorithm to solve a completely different problem â€“Â <a href="http://homepages.cwi.nl/~lex/files/histtrpclean.pdf">the efficiency of the Soviet railway network</a>.</p>

<p>Once weâ€™ve calculated how much risk you already have towards a vendor, we can perform the same reasoning as we did previously:</p>

<ol>
  <li>YouÂ <strong>willingly</strong>Â trusted money to your friends.</li>
  <li>This indirectly exposed you to a certain financial risk towards the vendor, which we calculated.</li>
  <li>If that vendor was evil and wanted to leave the market with an unfair advantage, which, in the worst case, could cost you your money, they could have already done so.</li>
  <li>You can now safely buy from that vendor up to a certain value without incurring additional risk â€“ to pay for the product, just use some of your money from the account shared with your friend.</li>
</ol>

<p>In order to buy from that vendor, you want to keep your risk the same prior to making a purchase and after completing a purchase. We have proven that this is possible in ourÂ <em>risk invariance theorem</em>, as long as your risk towards a vendor is higher than the price of the good you wish to purchase. Therefore, your Trust is Risk wallet will automatically pay the vendor by reducing some money you have deposited in the accounts shared with your friends and use that money to pay the vendor directly. The calculation of where to take money from in order to keep your risk constant is performed using aÂ <em>trust redistribution algorithm</em>. For the user, it will be a simple matter of seeing the money leaving some shared friendsâ€™ accounts and paying the vendor.</p>

<p>One thing to understand is that this trust system is a new paradigm. It does not actively protect the user from mishaps in any way. Thereâ€™s no way to flag the purchase as fake or talk to an escrow to have a conflict resolved. The only security insurance provided by the system is risk invariance: Weâ€™re only ensuring that the risk you were taking by trusting money to your friends is the same as the risk you are taking by making a purchase from an unknown entity.Â <strong>If</strong>(and thatâ€™s a big if) you have chosen to trust your friends with your money wisely,Â <strong>only then</strong>Â we make sure that the purchase is safe. But if the vendor decides to screw you, thereâ€™s nothing we can do about it, except show you a trace of why the vendor was deemed trustworthy, pointing exactly to whom of your friends you should stop trusting now (or whom ofÂ <em>their</em>Â friends they should stop trusting, and so on).</p>

<p>Unlike stars, the trust that the buyer is seeing for the vendor isÂ <strong>personalized</strong>. We call thisÂ <em>projected trust</em>, a trust value that is potentially different when two different buyers are browsing the shop of the same vendor. This is a recurring theme in our work. We conjecture, although we have not proven, that secure decentralized trust systems must necessarily use some form of projected trust.</p>

<h2 id="putting-it-together"><a href="https://github.com/decrypto-org/TrustIsRisk/blob/master/blogpost/blogpost.md#putting-it-together"></a>Putting it together</h2>

<p>As you can see, we have approached the problem ofÂ <em>trust</em>, a broad and ambiguous concept, by mathematically defining it to be equal toÂ <em>financial risk</em>. When Alice puts money in an account shared with Bob, we say that sheÂ <em>directly trusts</em>Â Bob. But we previously concluded that pseudonymous people far away in the network towards whom Alice has never extended any direct trust can still behave in a way that can cost Alice money â€“ if she made a wrong decision when she decided to trust her friends. We call theseÂ <em>indirect trusts</em>.</p>

<p>This may all sound complicated, but the end user experience is simple. Letâ€™s go through a purchase of some goods on an imaginary new version of OpenBazaar to see how this could work.</p>

<p>Weâ€™ll trace Aliceâ€™s steps from joining the network to successfully completing a purchase. Suppose initially all her coins, say 100 mBTC, are under her exclusive control in a traditional bitcoin wallet.</p>

<p>Two trustworthy friends, Bob and Charlie, persuade her to try out Trust Is Risk. She installs the Trust Is Risk wallet, perhaps even shipped as part of the OpenBazaar program, and migrates 60 mBTC of her 100 mBTC from her regular wallet, entrusting 24 mBTC to Bob and 36 mBTC to Charlie. She now exclusively controls 40 mBTC. She is risking 60 mBTC to which she has full but not exclusive access in exchange for being part of the network. Aliceâ€™s wallet is represented by the pie chart we went through above.</p>

<p>A few days later, she discovers an online pepper shop, Pepper Palace, owned by Dean, also a member of Trust Is Risk. She finds a nice Carolina Reaper pepper that costs 6 mBTC and checks Deanâ€™s trustworthiness through her new wallet. Suppose Dean is deemed trustworthy up to 20 mBTC. Since 6 mBTC â‰¤ 20 mBTC, she confidently proceeds to purchase the pepper with her new wallet.</p>

<p><img src="pepper-1024x859.png" alt="" /></p>

<p>We call these â€œ20 mBTCâ€ theÂ <em>allowance</em>Â our system gives to Alice for making purchases from Dean. If she spends any money up to that amount, we can give risk invariance insurances. Spend money beyond that point and she incurs additional risk, which she can of course choose to take.</p>

<p>Hey, by the way, if youâ€™re into peppers, this is a real product you can currentlyÂ <a href="https://bazaarbay.org/1233d41c55840f2957dbc9c7cd7dd781d2983003/listing/af69481de7187c6c5fbb31897b3b0180f3a8b2bc">buy on OpenBazaar</a>!Â <img src="https://s.w.org/images/core/emoji/2.4/svg/1f336.svg" alt="ğŸŒ¶" /></p>

<p>She can then see in her wallet that her exclusive coins have remained 40 mBTC. But the coins from her shared account with Charlie have been automatically reduced by 4 mBTC and are now down to 32 mBTC. And the coins in her shared account with Bob have been reduced by 2 mBTC and are now down to 22 mBTC. Dean has been paid 6 mBTC, equal to the value of the pepper. Also, her purchase is marked as pending. Under the hood, her wallet redistributed her entrusted coins in a way that ensures Dean has been paid with coins equal to the value of the purchased item and that her risk towards him has remained invariant. The â€œrisk invarianceâ€ property is what her wallet has tried to maintain by redistributing the funds in this particular manner â€“ always making sure sheâ€™s not exposed to more risk than before.</p>

<p><img src="redistributed-pie-1024x589.png" alt="" /></p>

<p>Eventually all goes well and the pepper reaches Alice. Through her wallet, she marks the purchase as successful.</p>

<p>This lets the system replenish the reduced trust to Bob and Charlie, setting the entrusted coins to 24 mBTC and 36 mBTC respectively once again by moving funds from Aliceâ€™s exclusive account into the shared accounts. Alice now exclusively owns 34 mBTC. Thus, she can now use a total of 94 mBTC, which is expected, since she had to pay 6 mBTC for the pepper.</p>

<h2 id="sybil-resilience"><a href="https://github.com/decrypto-org/TrustIsRisk/blob/master/blogpost/blogpost.md#sybil-resilience"></a>Sybil resilience</h2>

<p>The careful reader will have noticed that this system is no longer Sybil-attackable. This stems directly from the fact that indirect trust is projected and is based on risk.</p>

<p>What this means in short is that if I am a prospective buyer and have a certain amount of indirect trust (or risk) towards a certain group of malicious vendors, there is no way they can cooperate to increase the total trust I see towards them. Regardless of how many fake trust connections they make between each other and towards others and regardless of how many new fake accounts they create, the trust I will have towards them will be the same and bounded by a specific value.</p>

<p>To see why, think about how it works in a simple situation with just a single step. Each trust transaction creates a limited liability. If Alice directly trusts Bob with 1 coin, thereâ€™s no way he can increase that by trusting others or creating fake accounts. He canâ€™t create a fake shop that Alice trusts more than 1 coin, unless he solicits others to really trust the new shop more. It doesnâ€™t matter how many good transactions he makes with himself using his fake buyers and sellers. It doesnâ€™t even matter how many lines-of-credit he extends to himself. Adding more accounts and trust transactions himself will do him no good. We formalize precisely what this means and prove this fact in ourÂ <em>sybil resilience theorem</em>. Intuitively, the only way to increase Aliceâ€™s trust towards him is to persuade people Alice trusts (or Alice herself) that he is trustworthy. He can achieve this for example by building a valid and dependable business.</p>

<h2 id="conclusion"><a href="https://github.com/decrypto-org/TrustIsRisk/blob/master/blogpost/blogpost.md#conclusion"></a>Conclusion</h2>

<p>This concludes the two pillars of security in our system: On the one hand, we give the user risk invariance, the insurance that theyâ€™re not exposed to any more risk than they were willingly exposing themselves to. On the other hand, we give the whole system sybil resilience, meaning thereâ€™s no benefit in creating fake accounts.</p>

<p>To summarize, we have proposed a new form of bitcoin wallet where people use shared accounts to take calculated risk towards their friends. This augments the OpenBazaar user interface with showing an â€œallowanceâ€ amount calculated behind the scenes using trust flow algorithms. If the user respects our recommendations, they incur no additional risk from making a purchase. For the completion of a purchase, the wallet automatically redistributes the funds in the Trust Is Risk wallet. The user can always replenish their wallet by putting in more money. The system remains resilient to Sybil attacks.</p>

<p>We hope one day a system like this can be made part of OpenBazaar and used by people worldwide to make safer trades in a decentralized manner without having to worry about their money being lost or stolen.</p>

<h2 id="more-resources-and-acknowledgements"><a href="https://github.com/decrypto-org/TrustIsRisk/blob/master/blogpost/blogpost.md#more-resources-and-acknowledgements"></a>More resources and acknowledgements</h2>

<p>Weâ€™ve been working on these concepts for quite a long time now. These results have been developed at theÂ <a href="http://github.com/decrypto-org/">Decrypto Lab</a>, a loosely connected decentralized lab which bridges theÂ <a href="https://crypto.di.uoa.gr/">Crypto.Sec group</a>Â at the University of Athens, theÂ <a href="http://www.ed.ac.uk/informatics/news-events/stories/beyond-bitcoiniohk-and-university-of-edinburgh">Blockchain Technology Lab</a>Â at the University of Edinburgh, theÂ <a href="http://www.imperial.ac.uk/computing">Department of Computing</a>Â at Imperial College London,<a href="http://corelab.ntua.gr/">Corelab</a>Â at the National Technical University of Athens and other schools and laboratories with interest in the subject.</p>

<p>A lot of work remains. The question of whether these security properties can be achieved without disclosing the whole trust graph to everyone is a burning open research challenge. A formal game theoretic analysis of the system would also be a much appreciated addition.</p>

<p>This is collaborative work with my colleagues:</p>

<ul>
  <li><a href="https://www.inf.ed.ac.uk/people/students/Orfeas_Thyfronitis_Litos.html">Orfeas Stefanos Thyfronitis Litos</a>, currently a PhD student at the University of Edinburgh worked on Trust Is Risk for completing his master thesis at the National Technical University of Athens. You can readÂ <a href="https://github.com/decrypto-org/TrustIsRisk/raw/master/thesis/wholethesis.pdf">his whole thesis</a>[PDF] (of more than 70 pages), which goes in a lot of depth about all the theoretical material I presented here. He worked on most of the formalisms of the proofs and he developed all the trust redistribution algorithms. He also hasÂ <a href="https://github.com/decrypto-org/TrustIsRisk/raw/master/presentations/thesisDefense23-1-2017/thesisDefense23-1-2017desktop.odp">a presentation of his thesis</a>Â [ODP].</li>
  <li><a href="https://github.com/tech-no-crat">Christos Porios</a>, currently a Software Engineer at Google Zurich worked on an implementation of Trust Is Risk as his Bachelor thesis for his graduation from Imperial College London.Â <a href="https://github.com/decrypto-org/TrustIsRisk/blob/master/thesis-chrisp/decentralized-trust.pdf">His whole thesis</a>Â [PDF] (of 50 pages) is on the implementation of Trust is Risk and contains all the little details of how to get it done on top of Bitcoin. He also hasÂ <a href="https://github.com/decrypto-org/TrustIsRisk/raw/master/thesis-chrisp/presentation.pdf">a presentation of his thesis</a>Â [PDF].</li>
</ul>

<p>I was greatly honored to work with both of them.</p>

<p>Iâ€™mÂ <a href="https://dionyziz.com/">Dionysis Zindros</a>, currently a cryptography/blockchains PhD student at the University of Athens and one of the original OpenBazaar co-founders.</p>

<p>Donâ€™t take my word for all our claims and theorems. You can read all the formal math and proofs in our paper,Â <a href="https://github.com/decrypto-org/TrustIsRisk/raw/master/fc17.pdf">Trust is Risk: A Decentralized Financial Trust Platform</a>Â [PDF]. We also have a more conciseÂ <a href="https://github.com/decrypto-org/TrustIsRisk/raw/master/fc17-proceedings.pdf">proceedings version</a>Â [PDF]. The paper was peer-reviewed and published in theÂ <a href="http://fc17.ifca.ai/program.html">Financial Cryptography and Data Security 2017</a>Â conference in Malta.Â <a href="http://slides.com/orfeas/fc17">The slides of our presentation</a>Â are also available. We work in an open research setting. All our new experimental attempts at extending our theory are available onÂ <a href="https://github.com/decrypto-org/TrustIsRisk">our theory GitHub repository</a>Â where you can participate.</p>

<p>We have started working on a first version of a node.js implementationÂ <a href="https://github.com/decrypto-org/TrustIsRisk.js">in our implementation GitHub repository</a>, although most of the code is currently in pull requests. Weâ€™re also actively working on an SPV implementation.</p>

<p>All of this work was made possible through some very generous financing of our research by our partners,Â <a href="https://ob1.io/">OB1</a>Â (the OpenBazaar company) andÂ <a href="http://www.frostwire.com/">FrostWire</a>Â â€“ both have provided continuous support both financially but also technically. The whole team has inspired us with their work towards making trade free.Â <a href="https://twitter.com/brianchoffman">Brian Hoffman</a>â€˜s,Â <a href="https://twitter.com/SamuelPatt">Sam Patterson</a>â€˜s andÂ <a href="https://twitter.com/gubatron">Angel Leon</a>â€˜s valuable input has helped us focus our research on applied topics that can be used in the real world to solve real problems. And of course our work is based on the great ideas byÂ <a href="https://twitter.com/drwasho">Washington Sanchez</a>Â without whom this project wouldnâ€™t have been born. Weâ€™re honoured to haveÂ <a href="http://www.kiayias.com/">Aggelos Kiayias</a>Â as our PhD advisor, who has always encouraged us to become better scientists by understanding the problem and all the formal details behind it. Finally, this work was also made possible with the generous financing byÂ <a href="https://iohk.io/">IOHK</a>Â andÂ <a href="https://erc.europa.eu/">ERC</a>.</p>

                </div>
            
        </div>
    </div>
</section>
        </div>
    </div>
</article>
<div class="container-fluid mb-5">
    <div class="row">
        <div class="col-12 pb-4">
            <hr class="help-us-separator">
            <div class="container limited">
                <p>
                    <strong>Do you want to help build this with us?</strong>
                </p>
                <p>
                    <a href="/download/" class="general-link" target="_blank">Download OpenBazaar</a> right now to start buying or selling in minutes or just see what's for sale at <a class="general-link" href="https://openbazaar.com" target="_blank">OpenBazaar.com</a>. 
                </p>
                <p>
                    Developers, join us on <a class="general-link" href="https://github.com/openbazaar" target="_blank">Github</a> to contribute to this open-source project!
                </p>
                <p>
                    <!-- AddToAny BEGIN -->
                    <div class="a2a_kit a2a_kit_size_32 a2a_default_style">
                        <a class="a2a_dd" href="https://www.addtoany.com/share"></a>
                        <a class="a2a_button_tumblr"></a>
                        <a class="a2a_button_facebook"></a>
                        <a class="a2a_button_twitter"></a>
                    </div>
                    <script async src="https://static.addtoany.com/menu/page.js"></script>
                    <!-- AddToAny END -->
                </p>
            </div>
        </div>
    </div>
    <div class="row recent-updates-wrapper border-bottom border-top">
    <div class="col-12">
        <section class="container">
            <div class="row">
                <div class="col-12 mb-4 emphasis-text">
                    <h3 class="recent-updates-heading">Recent updates</h3>
                </div>
                <div class="col-12">
                    <div class="card-deck text-center">
                        
                            <div class="card p-3 mb-4">
                                <div class="card-body d-flex flex-column">
                                    <a href="/blog/openbazaar-community-activity-summer-2019/">
                                        <h5 class="recent-updates-title">OpenBazaar Community Activity - Summer 2019</h5>
                                    </a>
                                    <div class="recent-updates-body mt-2">
                                        This year has been an exciting time in the cryptocurrency space. Many projects are taking deeper root and putting out applications that are more practical and easy to use to enable people to do more with the coins they love....
                                    </div>
                                    <a href="/blog/openbazaar-community-activity-summer-2019/" class="button small mt-4 mx-auto">read more</a>
                                </div>
                            </div>
                        
                            <div class="card p-3 mb-4">
                                <div class="card-body d-flex flex-column">
                                    <a href="/blog/OpenBazaar-Developer-Call-July-11-2019/">
                                        <h5 class="recent-updates-title">OpenBazaar Developer Call - July 11, 2019</h5>
                                    </a>
                                    <div class="recent-updates-body mt-2">
                                        This is a video recording of the OpenBazaar Developer call on July 11, 2019.


                                    </div>
                                    <a href="/blog/OpenBazaar-Developer-Call-July-11-2019/" class="button small mt-4 mx-auto">read more</a>
                                </div>
                            </div>
                        
                            <div class="card p-3 mb-4">
                                <div class="card-body d-flex flex-column">
                                    <a href="/blog/OpenBazaar-Developer-Call-June-13-2019/">
                                        <h5 class="recent-updates-title">OpenBazaar Developer Call - June 13, 2019</h5>
                                    </a>
                                    <div class="recent-updates-body mt-2">
                                        This is a video recording of the OpenBazaar Developer call on June 13, 2019.


                                    </div>
                                    <a href="/blog/OpenBazaar-Developer-Call-June-13-2019/" class="button small mt-4 mx-auto">read more</a>
                                </div>
                            </div>
                        
                            <div class="card p-3 mb-4">
                                <div class="card-body d-flex flex-column">
                                    <a href="/blog/OpenBazaar-Developer-Call-May-16-2019/">
                                        <h5 class="recent-updates-title">OpenBazaar Developer Call - May 16, 2019</h5>
                                    </a>
                                    <div class="recent-updates-body mt-2">
                                        This is a video recording of the OpenBazaar Developer call on May 16, 2019.


                                    </div>
                                    <a href="/blog/OpenBazaar-Developer-Call-May-16-2019/" class="button small mt-4 mx-auto">read more</a>
                                </div>
                            </div>
                        
                    </div>
                </div>
            </div>
        </section>
    </div>
</div>
</div>
      </div>
    </main><div class="container">
    <footer class="row pb-4">
        <div class="col-12 col-md-8">
            <nav class="navbar navbar-expand-sm navbar-light">
                <div class="collapse show navbar-collapse text-center text-sm-left" id="navbar-bottom">
                    <ul class="navbar-nav">
                        <li class="nav-item">
                            <a class="nav-link " href="/about/">About</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link " href="/events/">Events</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link " href="/newsletter/">Newsletter</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link " href="/contributors/">Contributors</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link " href="/bitcoin/">Need Bitcoin?</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link " href="/donate/">Donate</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link " href="/privacy/">Privacy</a>
                        </li>
                    </ul>
                </div>
            </nav>
        </div>
        <div class="col-12 col-md-4 d-flex flex-row justify-content-md-end justify-content-center">
            <a href="https://twitter.com/openbazaar">
                <i class="social-icon ml-2 fab fa-twitter d-flex align-items-center"></i>
            </a>
            <a href="/slack">
                <i class="social-icon ml-2 fab fa-slack-hash d-flex align-items-center"></i>
            </a>
            <a href="https://www.reddit.com/r/OpenBazaar/">
                <i class="social-icon ml-2 fab fa-reddit-alien d-flex align-items-center"></i>
            </a>
            <a href="https://github.com/openbazaar">
                <i class="social-icon ml-2 fab fa-github d-flex align-items-center"></i>
            </a>
            <a href="mailto:project@openbazaar.org" target="_top">
                <i class="social-icon ml-2 fas fa-envelope d-flex align-items-center"></i>
            </a>
        </div>
    </footer>
</div>
<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="/assets/app-ac637ccb876dfcbfc8f39a55a38191bc750e676f622196ba9dcf469b9e3b327e.js" integrity="sha256-rGN8y4dt/L/I85pVo4GRvHUOZ29iIZa6nc9Gm547Mn4=" crossorigin="anonymous" type="text/javascript"></script><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
    <defs>
        <symbol id="havenIcon" viewBox="0 0 109 53">
            <path d="M51.2701217,20.0834631 C51.791955,20.6085209 52.1833299,21.765903 52.4442466,23.5556093 L54.5691038,43.3919111 L55.1838714,43.3919111 L56.9620501,23.5556093 C57.0227519,21.9582991 57.343234,20.8009171 57.9234962,20.0834631 C58.5037585,19.3660091 59.7166909,18.6274306 61.5622937,17.8677274 L109,0 C107.209363,8.40106912 93.2825767,14.5930779 65.9660836,25.9776912 L65.7718396,27.9681169 L103.306644,13.3689452 C101.713516,21.7189074 89.0207268,27.7616855 64.124863,38.8030422 L63.9730588,40.5053256 L95.8764089,26.9340548 C94.9949644,32.4094103 84.17041,40.364508 63.4027459,50.7993478 C60.102278,52.2664493 57.1577306,53 54.5691038,53 C51.980477,53 49.0543997,52.2664493 45.790872,50.7993478 C24.8930015,40.3631584 14.0038941,32.4080607 13.1235497,26.9340548 L45.0268998,40.5053256 L44.8750955,38.8050874 C19.9792317,27.7617062 7.28643414,21.7189281 5.69331479,13.3709903 L43.226502,27.9680858 L43.032258,25.97766 C15.7156819,14.5929949 1.78885433,8.40103797 0,0 L46.7925122,17.471743 C49.0373585,18.468089 50.529895,19.3386623 51.2701217,20.0834631 Z" id="Path"></path>
        </symbol>
    </defs>
</svg>
<div style="
    position:fixed;
    z-index:100;
    top: 0;
    left: 50%;
    transform:translateX(-50%);
    min-width: 400px;
">
    <div style="
        background-color:#f97016;
        border-bottom-left-radius:4px;
        border-bottom-right-radius:4px;
        padding:4px 26px 8px 26px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.3);
    ">
        <div style="
            color:#fff;
            font-size:14px;
            font-weight:700;
            font-family:'Helvetica Neue', Arial, sans-serif;
            text-align: center;
        ">
            <svg style="
                width: 1.5em;
                height: 0.75em;
                fill: #fff;
                margin-right: 0.5em;
                position: relative;
                top: -0.1em;
            ">
                <use xlink:href="#havenIcon"></use>
            </svg>
            Want OpenBazaar on mobile? <a href="https://gethaven.app" target="_blank" style="color:#fff; text-decoration:underline;">gethaven.app</a>
        </div>
    </div>
</div></body>

</html>
